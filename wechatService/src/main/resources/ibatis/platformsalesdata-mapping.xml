<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="PlatformSalesDataDao">

    <typeAlias alias="PlatformSalesData" type="com.jala.agency.sms.entity.PlatformSalesData" />
    
	<resultMap id="PlatformSalesData-Result" class="PlatformSalesData">
	<result property="id" column="id" jdbcType="NUMBER" nullValue="0" />
		<result property="reqDate" column="req_date" jdbcType="VARCHAR2" />
		<result property="reqType" column="req_type" jdbcType="VARCHAR2" />
		<result property="type" column="type" jdbcType="VARCHAR2" />
		<result property="amount" column="amount" jdbcType="NUMBER" nullValue="0" />
		<result property="createTime" column="create_time" jdbcType="DATE" />
		<result property="updateTime" column="update_time" jdbcType="DATE" />
		<result property="vid" column="vid" jdbcType="NUMBER" nullValue="0" />
	</resultMap>

	<select id="PlatformSalesData-SelectByKey" resultMap="PlatformSalesData-Result">
	<![CDATA[
		select 
		req_date,
		req_type,
		amount,
		create_time,
		update_time,
		type,
		vid,
		id
		from platform_sales_data 
		where id = #value#
	]]>
	</select>
	
	<select id="PlatformSalesData-SelectByObject" resultMap="PlatformSalesData-Result">
		select 
		req_date,
		req_type,
		amount,
		create_time,
		update_time,
		type,
		vid,
		id
		from platform_sales_data 
		<dynamic prepend="WHERE">
			<isNotEqual prepend="and" property="id" compareValue="0">
		id = #id#
			</isNotEqual>
			<isNotNull prepend="and" property="reqDate">
		req_date = #reqDate#
			</isNotNull>
			<isNotNull prepend="and" property="reqType">
		req_type = #reqType#
			</isNotNull>
			<isNotNull prepend="and" property="amount" >
		amount = #amount#
			</isNotNull>
			<isNotNull prepend="and" property="type" >
		  type = #type#
			</isNotNull>
			<isNotNull prepend="and" property="createTime">
		create_time = #createTime#
			</isNotNull>
			<isNotNull prepend="and" property="updateTime">
		update_time = #updateTime#
			</isNotNull>
			<isNotEqual prepend="and" property="vid" compareValue="0">
		vid = #vid#
			</isNotEqual>
		</dynamic>
	</select>

	<insert id="PlatformSalesData-Insert" parameterClass="PlatformSalesData">
    <![CDATA[
	INSERT INTO platform_sales_data(
		req_date,	
		req_type,	
		amount,	
		create_time,	
		update_time,
		type,	
		vid,	
		id
	)VALUES(	
		#reqDate#,
		#reqType#,
		#amount#,
		#createTime#,
		#updateTime#,
		#type#,
		#vid#,
		#id#
		)
    ]]>
	</insert>
	
	<delete id="PlatformSalesData-DeleteByKey">
	<![CDATA[
		delete from platform_sales_data 
		where id = #value#
	]]>
	</delete>
	
	<delete id="PlatformSalesData-DeleteByObject" parameterClass="PlatformSalesData">
	<![CDATA[
		delete from platform_sales_data 
		where id = #id#
	]]>
	</delete>
	
	<update id="PlatformSalesData-Update" parameterClass="PlatformSalesData">
	<![CDATA[
	    update platform_sales_data
	    set	    
		req_date = #reqDate#,	
		req_type = #reqType#,	
		amount = #amount#,	
		update_time = #updateTime#,	
		vid = vid + 1
		where req_type = #reqType# 
		  and req_date = #reqDate#
		  and type = #type#
	]]>
	</update>
	
</sqlMap>